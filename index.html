<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<title>Meu Codificador</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" type="text/css" href="reset.css">
	<script src="scripts.js" type="text/javascript"></script>
</head>
<body>
	<header>
		<div>
			<img id="logoA" src="logoA.svg" class="logoA">
		</div>
	</header>

		<form>
			<div>
				<img src="digiteSeuTexto.svg" class="digiteSeuTexto">
				<textarea cols="50" rows="8" id="textoDigitado" required="" class="textarea1"></textarea>
				<img src="legenda.svg" class="legenda">
			</div>
		</form>

			<nav>
				<button onclick="criptografar()" type="button" id="criptografar" class="button1">Criptografar</button>
				<button onclick="descriptografar()" type="button" id="descriptografar" class="button2">Descriptografar</button>
			</nav>

			<div>
				<img src="highQualityProducts1.svg" id="img" class="highQualityProducts1">
				<textarea cols="50" rows="8" id="textoCriptografado" class="textarea2" style="display: none;"></textarea>
				<button  onclick="selecionaCopia()" id="copy" class="button3">Copiar Texto Criptografado</button>
			</div>

	<footer>&copy;Wanderson Silva: Projeto Codificador Alura</footer>
	
	<script>
		//..................................................................................................//
	// As "chaves" de criptografia que utilizaremos são:
	// A letra "e" é convertida para "enter"
	// A letra "i" é convertida para "imes"
	// A letra "a" é convertida para "ai"
	// A letra "o" é convertida para "ober"
	// A letra "u" é convertida para "ufat"

	// Requisitos:
	// - Deve funcionar apenas com letras minúsculas
	// - Não devem ser utilizados letras com acentos nem caracteres especiais
	// - Deve ser possível converter uma palavra para a versão criptografada e também retornar uma palavra
	//   criptografada para a versão original.

	// Por exemplo:
	// "gato" => "gaitober"
	// gaitober" => "gato"
//...................................................................................................//


	// Função para criptografar e deixar letras minúsculas do texto digitado no textarea1 e exibir no textarea2 //

	function criptografar() {
  		var texto = document.getElementById("textoDigitado").value;
  		var textoNovo = texto.replace(/e/g, 'enter');

	  		if (textoNovo) {
	  			var textoNovo1 = textoNovo.replace(/i/g, 'imes');
	  		}

	  		if (textoNovo1) {
	  			var textoNovo2 = textoNovo1.replace(/a/g, 'ai');
	  		}
	  		if (textoNovo2) {
	  			var textoNovo3 = textoNovo2.replace(/o/g, 'ober');
	  		}
	  		if (textoNovo3) {
	  			var textoNovo4 = textoNovo3.replace(/u/g, 'ufat');
	  		}

	  	var textoNovo5 = textoNovo4.toLowerCase();
	  	document.getElementById("textoCriptografado").style.display = "";
  		document.getElementById("textoCriptografado").innerHTML = textoNovo5;
	}


	// Função para descriptografar e deixar letras minúsculas do texto digitado no textarea1 e exibir no textarea2 //

	function descriptografar() {
  		var texto = document.getElementById("textoDigitado").value;
  		var textoNovo = texto.replace(/enter/g, 'e');
  		
	  		if (textoNovo) {
	  			var textoNovo1 = textoNovo.replace(/imes/g, 'i');
	  		}

	  		if (textoNovo1) {
	  			var textoNovo2 = textoNovo1.replace(/ai/g, 'a');
	  		}
	  		if (textoNovo2) {
	  			var textoNovo3 = textoNovo2.replace(/ober/g, 'o');
	  		}
	  		if (textoNovo3) {
	  			var textoNovo4 = textoNovo3.replace(/ufat/g, 'u');
	  		}

	  	var textoNovo5 = textoNovo4.toLowerCase();
  		document.getElementById("textoCriptografado").style.display = "";
  		document.getElementById("textoCriptografado").innerHTML = textoNovo4;
	}


	// Botão seleciona e Copia Texto do textarea2 //
	function selecionaCopia (){
		const textInput = document.getElementById("textoCriptografado");
		const copyButton = document.getElementById("copy");

	    	copyButton.addEventListener("click", ()=> {
		textInput.select();
		document.execCommand("copy");
	    });
	}
	</script>
</body>
</html>
